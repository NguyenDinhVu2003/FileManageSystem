<div class="upload-container">
  <div class="page-header">
    <h1>Upload Document</h1>
    <p>Share your knowledge with the team</p>
  </div>

  <mat-card class="upload-card">
    <mat-card-content>
      <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()" class="upload-form">
        <!-- File Upload Area -->
        <div class="file-upload-area" 
             [class.drag-over]="isDragOver"
             (dragover)="onDragOver($event)"
             (dragleave)="onDragLeave($event)"
             (drop)="onDrop($event)"
             (click)="openFileDialog()">
          <mat-icon>cloud_upload</mat-icon>
          <h3>Drag and drop your file here</h3>
          <p>or click to select file</p>
          <small>Supported formats: PDF, DOC, DOCX, TXT</small>
          
          <div *ngIf="selectedFile" class="selected-file">
            <mat-icon>description</mat-icon>
            <span>{{ selectedFile.name }}</span>
            <button mat-icon-button type="button" (click)="removeFile($event)">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>

        <!-- Document Info -->
        <div class="form-fields">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Document Title</mat-label>
            <input matInput formControlName="title" placeholder="Enter document title">
            <mat-error *ngIf="uploadForm.get('title')?.hasError('required')">
              Title is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" placeholder="Describe your document" rows="4"></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Category</mat-label>
            <mat-select formControlName="category">
              <mat-option value="technical">Technical</mat-option>
              <mat-option value="business">Business</mat-option>
              <mat-option value="guidelines">Guidelines</mat-option>
              <mat-option value="training">Training</mat-option>
              <mat-option value="other">Other</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Tags</mat-label>
            <input matInput formControlName="tags" placeholder="Enter tags separated by commas">
            <mat-hint>Example: angular, typescript, frontend</mat-hint>
          </mat-form-field>
        </div>

        <!-- Actions -->
        <div class="form-actions">
          <button mat-button type="button" routerLink="/documents">Cancel</button>
          <button mat-raised-button color="primary" type="submit" [disabled]="uploadForm.invalid || !selectedFile">
            <mat-icon>upload</mat-icon>
            Upload Document
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>